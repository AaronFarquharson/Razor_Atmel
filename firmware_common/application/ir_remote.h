/**********************************************************************************************************************
File: ir_remote.h                                                                

----------------------------------------------------------------------------------------------------------------------

----------------------------------------------------------------------------------------------------------------------

Description:
Header file for ir_remote.c

**********************************************************************************************************************/

#ifndef __IR_REMOTE_H
#define __IR_REMOTE_H

/**********************************************************************************************************************
Type Definitions
**********************************************************************************************************************/


/**********************************************************************************************************************
Constants / Definitions
**********************************************************************************************************************/
// singleOut PWM powers and modes
#define PWM_FLT 0x0
#define PWM_FWD1 0x1
#define PWM_FWD2 0x2
#define PWM_FWD3 0x3
#define PWM_FWD4 0x4
#define PWM_FWD5 0x5
#define PWM_FWD6 0x6
#define PWM_FWD7 0x7
#define PWM_BRK 0x8
#define PWM_REV7 0x9
#define PWM_REV6 0xA
#define PWM_REV5 0xB
#define PWM_REV4 0xC
#define PWM_REV3 0xD
#define PWM_REV2 0xE
#define PWM_REV1 0xf

// channels
#define CH1 0x0
#define CH2 0x1
#define CH3 0x2
#define CH4 0x3

// SingleOutput output
#define DRIVE 0x0
#define TURN 0x1

// Pin output
#define HIGH 1
#define LOW 0
#define IR_PIN         (u32)0x00004000          // MOSI

/**********************************************************************************************************************
Function Declarations
**********************************************************************************************************************/

/*--------------------------------------------------------------------------------------------------------------------*/
/* Public functions                                                                                                   */
/*--------------------------------------------------------------------------------------------------------------------*/
void singleOut( u8 mode, u8 power, u8 rb, u8 ch, u16 start);
void writePin(u32 pin, u8 level);
void delayMicro(u16 time, u16 start);

/*--------------------------------------------------------------------------------------------------------------------*/
/* Protected functions                                                                                                */
/*--------------------------------------------------------------------------------------------------------------------*/
void ir_remoteInitialize(void);
void ir_remoteRunActiveState(void);
void send_signal(u32 code1, u32 code2, u16 start);
void writeSignal(u32 pin, u32 time, u16 start);
void startStopSignal(u16 start);
//void pause(u8 ch, u8 count);

/*--------------------------------------------------------------------------------------------------------------------*/
/* Private functions                                                                                                  */
/*--------------------------------------------------------------------------------------------------------------------*/


/***********************************************************************************************************************
State Machine Declarations
***********************************************************************************************************************/
static void ir_remoteSM_Idle(void);    
static void ir_remoteSM_Error(void);         


#endif /* __IR_REMOTE_H */


/*--------------------------------------------------------------------------------------------------------------------*/
/* End of File                                                                                                        */
/*--------------------------------------------------------------------------------------------------------------------*/
